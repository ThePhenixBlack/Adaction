
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Signaler un b√©n√©vole ‚Äì Adaction</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    main.report-page {
      max-width: 700px;
      margin: 2rem auto;
      background: #fff;
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.07);
    }

    .report-page h1 {
      text-align: center;
      color: #16588c;
      font-size: 2rem;
      font-weight: 800;
      margin-bottom: 1.5rem;
    }

    form#reportForm {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    label {
      font-weight: 600;
      color: #0f172a;
    }

    input, textarea, select {
      padding: 0.8rem 1rem;
      border-radius: 0.5rem;
      border: 1px solid #cbd5e1;
      font-size: 1rem;
      width: 100%;
    }

    textarea {
      resize: vertical;
      min-height: 120px;
    }

    button {
      background-color: #2c7a4b;
      color: white;
      padding: 0.9rem 1.2rem;
      border: none;
      border-radius: 0.6rem;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.2s;
    }

    button:hover {
      background-color: #25643f;
    }

    .success-message {
      background-color: #dcfce7;
      color: #14532d;
      padding: 0.8rem 1rem;
      border-radius: 0.5rem;
      margin-top: 1rem;
      display: none;
    }

    @media (max-width: 700px) {
      main.report-page {
        margin: 1rem;
        padding: 1.2rem;
      }
    }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="brand">
  <img src="/images/logo.png" alt="logo" width="48" height="48" />
      <h1>Adaction</h1>
    </div>
    <div class="actions">
      <a href="index.html" class="btn btn-outline">Accueil</a>
      <a href="volunteers.html" class="btn">B√©n√©voles</a>
      <a href="report-volunteer.html" class="btn btn-outline">Signaler</a>
    </div>
  </header>

  <main class="report-page">
    <h1>Signaler un b√©n√©vole</h1>
    <p style="text-align:center; color:#475569; margin-bottom:1rem;">
      Si tu constates un comportement inappropri√© ou une activit√© suspecte d‚Äôun b√©n√©vole, signale-le ici üëá  
    </p>

    <form id="reportForm">
      <div>
        <label for="volunteerName">Nom du b√©n√©vole concern√©</label>
        <input type="text" id="volunteerName" name="volunteerName" placeholder="Ex : Jean Dupont" required />
      </div>

      <div>
        <label for="reason">Raison du signalement</label>
        <select id="reason" name="reason" required>
          <option value="">-- S√©lectionner une raison --</option>
          <option value="Comportement inappropri√©">Comportement inappropri√©</option>
          <option value="Fausse collecte d√©clar√©e">Fausse collecte d√©clar√©e</option>
          <option value="Discours haineux ou discriminatoire">Discours haineux ou discriminatoire</option>
          <option value="Autre">Autre</option>
        </select>
      </div>

      <div>
        <label for="details">D√©tails suppl√©mentaires</label>
        <textarea id="details" name="details" placeholder="Explique ici ce que tu as constat√©..." required></textarea>
      </div>

      <div>
        <label for="reporter">Ton nom (facultatif)</label>
        <input type="text" id="reporter" name="reporter" placeholder="Ex : Marie D." />
      </div>

      <button type="submit">Envoyer le signalement üö®</button>

      <div class="success-message" id="successMsg">
        ‚úÖ Ton signalement a bien √©t√© envoy√©. Merci pour ta vigilance !
      </div>
    </form>
  </main>

  <footer>
    <div class="footer-container">
      <div id="adaopte-footer">
        <h3>Adaction</h3>
        <p>Agissons ensemble pour un monde plus propre üåç</p>
        <div class="social-media">
          <a href="#"><i class="fa-brands fa-facebook-f"></i></a>
          <a href="#"><i class="fa-brands fa-instagram"></i></a>
          <a href="#"><i class="fa-brands fa-twitter"></i></a>
        </div>
      </div>
      <div id="information-footer">
        <h3>Informations</h3>
        <div class="information-link">
          <a href="index.html">Accueil</a>
          <a href="volunteers.html">B√©n√©voles</a>
          <a href="faqs.html">FAQ</a>
        </div>
      </div>
      <div id="contact-footer">
        <h3>Contact</h3>
        <p>üìß contact@adaction.org</p>
        <p>üìç 3254 route du Vernay, 74920 Combloux</p>
      </div>
    </div>
  </footer>

  <script>
    const form = document.getElementById("reportForm");
    const successMsg = document.getElementById("successMsg");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      const report = {
        volunteerName: form.volunteerName.value,
        reason: form.reason.value,
        details: form.details.value,
        reporter: form.reporter.value || "Anonyme",
      };

      try {
        const resp = await fetch("http://localhost:3000/reports", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(report),
        });

        if (!resp.ok) throw new Error("Erreur lors de l'envoi");

        successMsg.style.display = "block";
        form.reset();
      } catch (err) {
        alert("‚ùå Une erreur est survenue. R√©essaie plus tard.");
        console.error(err);
      }
    });
  </script>
</body>
</html>